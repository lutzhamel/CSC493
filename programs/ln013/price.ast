-- curried function
function cost with tax do
   lambda with price do price+(price*tax/100.0)
end

-- partially evaluate function with tax rate
let macost = cost 6.25.
let ricost = cost 7.0.

-- show that the results are functions
load system type.
assert (type @gettype macost == "function").
assert (type @gettype ricost == "function").

-- use the functions
assert (macost 100.0 == 106.25).
assert (ricost 100.0 == 107.0).

