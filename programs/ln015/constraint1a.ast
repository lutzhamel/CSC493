-- our constraint pattern
let p = pattern k if k in range 10.

-- a simple loop that creates a list of values
let out = [].
let k = 2.  
for i in range 10 do
   if i is *p do
      out @append (k).
   end
end
-- should be out == [2,2,2,2,2,2,2,2,2,2]
-- but
assert (not (out == [2,2,2,2,2,2,2,2,2,2])). 
-- and
assert (out == [0,1,2,3,4,5,6,7,8,9]).

